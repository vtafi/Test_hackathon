### ==========================================
### TEST API ENDPOINTS - Backend Email Service
### Sá»­ dá»¥ng vá»›i VS Code extension: REST Client
### Hoáº·c copy vÃ o Postman
### ==========================================

### ğŸ”¥ FAKE DATA - POST LÃŠN FIREBASE (Giáº£ láº­p IoT)
PUT https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_001.json
Content-Type: application/json

{
  "location": "Cá»‘ng Phan ÄÃ¬nh PhÃ¹ng, ÄÃ  Náºµng",
  "current_percent": 85,
  "previous_percent": 50,
  "timestamp": "2025-11-19T14:30:00"
}

###

### ğŸ¤– Gá»ŒI BACKEND Äá»ŒC FIREBASE VÃ€ Gá»¬I EMAIL
POST http://localhost:3001/api/check-firebase-and-alert
Content-Type: application/json

{
  "sensorId": "sensor_001"
}

###

### ğŸ“Š Äá»ŒC DATA Tá»ª FIREBASE (Kiá»ƒm tra)
GET http://localhost:3001/api/firebase/sensors/sensor_001

###

### ğŸ“Š Äá»ŒC Táº¤T Cáº¢ SENSORS
GET http://localhost:3001/api/firebase/sensors

###

### ==========================================
### ğŸ§ª TEST CASES - NHIá»€U TRÆ¯á»œNG Há»¢P
### ==========================================

### ğŸ”¥ TEST 1: Ngáº­p lá»¥t NGUY HIá»‚M (85%)
PUT https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_high.json
Content-Type: application/json

{
  "location": "Cáº§u Rá»“ng, ÄÃ  Náºµng",
  "current_percent": 85,
  "previous_percent": 50,
  "timestamp": "2025-11-19T14:30:00"
}

###

POST http://localhost:3001/api/check-firebase-and-alert
Content-Type: application/json

{
  "sensorId": "sensor_test_high"
}

###

### âš ï¸ TEST 2: Ngáº­p lá»¥t TRUNG BÃŒNH (65%)
PUT https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_medium.json
Content-Type: application/json

{
  "location": "ÄÆ°á»ng LÃª Duáº©n, ÄÃ  Náºµng",
  "current_percent": 65,
  "previous_percent": 55,
  "timestamp": "2025-11-19T15:00:00"
}

###

POST http://localhost:3001/api/check-firebase-and-alert
Content-Type: application/json

{
  "sensorId": "sensor_test_medium"
}

###

### âœ… TEST 3: Má»©c nÆ°á»›c AN TOÃ€N (40%)
PUT https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_safe.json
Content-Type: application/json

{
  "location": "Cá»‘ng HÃ²a XuÃ¢n, ÄÃ  Náºµng",
  "current_percent": 40,
  "previous_percent": 35,
  "timestamp": "2025-11-19T15:30:00"
}

###

POST http://localhost:3001/api/check-firebase-and-alert
Content-Type: application/json

{
  "sensorId": "sensor_test_safe"
}

###

### ğŸš¨ TEST 4: NÆ°á»›c tÄƒng NHANH (45% â†’ 90%)
PUT https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_rapid.json
Content-Type: application/json

{
  "location": "Cá»‘ng Háº£i ChÃ¢u, ÄÃ  Náºµng",
  "current_percent": 90,
  "previous_percent": 45,
  "timestamp": "2025-11-19T16:00:00"
}

###

POST http://localhost:3001/api/check-firebase-and-alert
Content-Type: application/json

{
  "sensorId": "sensor_test_rapid"
}

###

### ğŸ”´ TEST 5: Má»¨C NGáº¬P Cá»°C Ká»² NGUY HIá»‚M (95%)
PUT https://hackathon-weather-634bf-default-rtdb.firebaseio.com/sensors/flood/sensor_test_critical.json
Content-Type: application/json

{
  "location": "NgÃ£ TÆ° LÃª Duáº©n - Äiá»‡n BiÃªn Phá»§",
  "current_percent": 95,
  "previous_percent": 88,
  "timestamp": "2025-11-19T16:30:00"
}

###

POST http://localhost:3001/api/check-firebase-and-alert
Content-Type: application/json

{
  "sensorId": "sensor_test_critical"
}

###

### 1. Test Server
GET http://localhost:3001/

###

### 2. Gá»­i Email Test Nhanh
POST http://localhost:3001/api/send-test-email
Content-Type: application/json

{
  "to": "your-email@gmail.com"
}

###

### 3. ğŸ¤– Táº¡o Cáº£nh BÃ¡o Ngáº­p Lá»¥t Báº±ng Gemini AI (KHÃ”NG gá»­i email)
POST http://localhost:3001/api/generate-flood-alert
Content-Type: application/json

{
  "current_percent": 85,
  "previous_percent": 50,
  "location": "Cá»‘ng Phan ÄÃ¬nh PhÃ¹ng, ÄÃ  Náºµng",
  "timestamp": "2025-11-19T01:42:00"
}

###

### 4. ğŸ¤– Táº¡o Cáº£nh BÃ¡o Ngáº­p Lá»¥t Báº±ng AI VÃ€ Gá»­i Email
POST http://localhost:3001/api/generate-flood-alert
Content-Type: application/json

{
  "current_percent": 90,
  "previous_percent": 60,
  "location": "Cáº§u Rá»“ng, ÄÃ  Náºµng",
  "timestamp": "2025-11-19T02:00:00",
  "to": "your-email@gmail.com"
}

###

### 5. Test NgÆ°á»¡ng Cáº£nh BÃ¡o Trung BÃ¬nh (60-79%)
POST http://localhost:3001/api/generate-flood-alert
Content-Type: application/json

{
  "current_percent": 65,
  "previous_percent": 55,
  "location": "ÄÆ°á»ng LÃª Duáº©n, ÄÃ  Náºµng",
  "timestamp": "2025-11-19T03:00:00",
  "to": "your-email@gmail.com"
}

###

### 6. Test Tá»‘c Äá»™ NÆ°á»›c TÄƒng Nhanh
POST http://localhost:3001/api/generate-flood-alert
Content-Type: application/json

{
  "current_percent": 82,
  "previous_percent": 45,
  "location": "Cá»‘ng HÃ²a XuÃ¢n, ÄÃ  Náºµng",
  "timestamp": "2025-11-19T04:00:00",
  "to": "your-email@gmail.com"
}

###

### 7. Gá»­i Cáº£nh BÃ¡o LÅ© Lá»¥t (Template CÃ³ Sáºµn - KhÃ´ng dÃ¹ng AI)
POST http://localhost:3001/api/send-flood-alert
Content-Type: application/json

{
  "to": "your-email@gmail.com",
  "alertData": {
    "district": "Háº£i ChÃ¢u, ÄÃ  Náºµng",
    "level": "Cao",
    "rainfall": "150",
    "time": "2025-11-19 14:30"
  }
}

###

### 8. Gá»­i Email Custom
POST http://localhost:3001/api/send-email
Content-Type: application/json

{
  "to": "your-email@gmail.com",
  "subject": "Test Custom Email",
  "html": "<h1>Hello from Backend!</h1><p>This is a custom email.</p>",
  "text": "Hello from Backend! This is a custom email."
}

###

